# Sticky Notes Everywhere - リリース前テストチェックリスト

## 概要
このドキュメントはリリース前に実施するテスト項目をまとめたものです。

---

## 1. 基本動作テスト

### 1.1 拡張機能の起動
- [ ] 拡張機能アイコンをクリックしてメニューバーが表示される
- [ ] 再度クリックでメニューバーが非表示になる
- [ ] ページリロード後も正常に動作する

### 1.2 メニューバー表示モード

#### バーモード
- [ ] 上部（top）に正しく表示される
- [ ] 下部（bottom）に正しく表示される
- [ ] 左側（left）に正しく表示される
- [ ] 右側（right）に正しく表示される
- [ ] 位置ボタンで循環切替（top → left → bottom → right → top）

#### フローティングモード
- [ ] ドラッグで自由に移動できる
- [ ] 画面外に出ないよう制限される
- [ ] 位置がページリロード後も保持される

#### モード切替
- [ ] バーモード ↔ フローティングモードが正しく切り替わる
- [ ] 切替後の状態が保存される

---

## 2. 付箋作成テスト

### 2.1 ドラッグで作成
- [ ] カラースワッチをドラッグすると半透明プレビューが表示される
- [ ] ドロップ位置に付箋が作成される
- [ ] 付箋の中心がドロップ位置になる
- [ ] 各色（10色全て）で作成できる

### 2.2 キーボードショートカットで作成
| ショートカット | 色 | テスト結果 |
|---------------|-----|-----------|
| Alt + 1 | 黄色 (color1) | [ ] |
| Alt + 2 | オレンジ (color2) | [ ] |
| Alt + 3 | ピンク (color3) | [ ] |
| Alt + 4 | 赤 (color4) | [ ] |
| Alt + 5 | 緑 (color5) | [ ] |
| Alt + 6 | 青 (color6) | [ ] |
| Alt + 7 | 紫 (color7) | [ ] |
| Alt + 8 | グレー (color8) | [ ] |
| Alt + 9 | 白 (color9) | [ ] |
| Alt + 0 | 黒 (color10) | [ ] |

- [ ] 画面中央に付箋が作成される
- [ ] テキストエリアに自動フォーカスされる
- [ ] 入力フィールドにフォーカス中はショートカット無効

### 2.3 サイズプリセット
- [ ] S（小）サイズで作成できる
- [ ] M（中）サイズで作成できる
- [ ] L（大）サイズで作成できる
- [ ] 選択したサイズがハイライトされる

---

## 3. 付箋操作テスト

### 3.1 テキスト編集
- [ ] テキストを入力できる
- [ ] 日本語入力が正常に動作する
- [ ] 改行が正常に動作する
- [ ] 長文（1000文字以上）が入力できる
- [ ] 入力後1秒で自動保存される

### 3.2 移動（ドラッグ）
- [ ] ヘッダー部分をドラッグして移動できる
- [ ] 画面上端で止まる（MIN_VISIBLE_AREA: 50px）
- [ ] 画面下端で止まる
- [ ] 画面左端で止まる
- [ ] 画面右端で止まる
- [ ] 移動後の位置が保存される

### 3.3 リサイズ
- [ ] 右下角をドラッグしてリサイズできる
- [ ] 最小幅（150px）で制限される
- [ ] 最小高さ（100px）で制限される
- [ ] リサイズ後のサイズが保存される

### 3.4 重なり順（z-index）
- [ ] 付箋をクリックすると最前面に表示される
- [ ] 新規作成した付箋が最前面に表示される
- [ ] 多数の付箋でもz-indexオーバーフローしない

### 3.5 ヘッダーボタン
- [ ] コピーボタン：テキストがクリップボードにコピーされる
- [ ] コピーボタン：1秒間ハイライト表示される
- [ ] 色ボタン：カラーピッカーが開く
- [ ] 色ボタン：10色から選択できる
- [ ] 色ボタン：選択した色に変更される
- [ ] 削除ボタン：付箋が削除される
- [ ] 削除ボタン：ホバーで赤色表示

### 3.6 色とテキスト色
- [ ] 明るい背景色で暗いテキスト色になる
- [ ] 暗い背景色（color10: 黒）で白いテキスト色になる

---

## 4. 一括操作テスト

### 4.1 表示/非表示切替
- [ ] 目玉アイコンで全付箋が非表示になる
- [ ] 再度クリックで全付箋が再表示される
- [ ] Alt + H ショートカットでも切り替わる
- [ ] 非表示中に作成した付箋も非表示になる

### 4.2 全付箋コピー（エクスポート）
- [ ] コピーアイコンで全付箋がクリップボードにコピーされる
- [ ] Ctrl + Alt + C ショートカットでもコピーされる
- [ ] コピー形式が正しい（URL、番号付きリスト）
- [ ] Y座標 → X座標順でソートされる
- [ ] テキストがない付箋は除外される
- [ ] 成功時に緑色トーストが表示される
- [ ] 付箋がない場合はエラートーストが表示される
- [ ] トーストが3秒後に消える

### 4.3 全付箋削除
- [ ] ゴミ箱アイコンで確認ダイアログが表示される
- [ ] Alt + X ショートカットでも確認ダイアログが表示される
- [ ] 「OK」で全付箋が削除される
- [ ] 「キャンセル」で削除されない

---

## 5. ピン留め機能テスト

- [ ] ピンアイコンでON/OFF切り替えできる
- [ ] ピン留めONの状態が視覚的にわかる
- [ ] ピン留めONで別ページに遷移しても付箋が残る
- [ ] ピン留めOFFで別ページに遷移すると付箋が消える
- [ ] ピン留め状態が保存される

---

## 6. セット管理テスト

### 6.1 セット保存
- [ ] フォルダアイコンでセット管理画面が開く
- [ ] 「現在の付箋を保存」ボタンが動作する
- [ ] セット名を入力して保存できる
- [ ] 保存したセットがリストに表示される

### 6.2 セット読み込み
- [ ] セットを選択して読み込める
- [ ] 「追加」モードで既存付箋に追加される
- [ ] 「置換」モードで既存付箋が削除されて読み込まれる

### 6.3 セット管理
- [ ] セット名を変更できる
- [ ] セットを削除できる
- [ ] セットを上書き保存できる

### 6.4 ページ履歴
- [ ] ページ履歴が表示される
- [ ] 過去のページから付箋を復元できる
- [ ] 履歴をクリアできる

---

## 7. 設定モーダルテスト

### 7.1 モーダル操作
- [ ] 歯車アイコンで設定モーダルが開く
- [ ] モーダル外クリックで閉じない（意図的な仕様）
- [ ] キャンセルボタンで閉じる
- [ ] 保存ボタンで設定が保存されて閉じる

### 7.2 カラープリセット
- [ ] 「ライト」プリセットが選択できる
- [ ] 「ダーク」プリセットが選択できる
- [ ] 「ユーザー1」プリセットが選択できる
- [ ] 「ユーザー2」プリセットが選択できる
- [ ] ライト/ダークは編集不可（読み取り専用）
- [ ] ユーザープリセットは編集可能
- [ ] カラーピッカーで色を変更できる
- [ ] 16進数コードを直接入力できる

### 7.3 サイズプリセット
- [ ] S/M/Lの幅・高さを編集できる
- [ ] デフォルトサイズを選択できる

### 7.4 メニューボタンサイズ
- [ ] 小（32px）を選択できる
- [ ] 中（40px）を選択できる
- [ ] 大（48px）を選択できる
- [ ] 選択したサイズがメニューバーに反映される

### 7.5 z-index設定
- [ ] z-index値を入力できる
- [ ] 1～2147483600の範囲で入力できる
- [ ] 設定が付箋に反映される

### 7.6 自動展開設定
- [ ] 「ページ表示時にメニューを自動展開」を有効化できる
- [ ] 有効時、ページ読み込み時にメニューが自動で開く
- [ ] 無効時、メニューは閉じた状態で開始

### 7.7 デフォルトに戻す
- [ ] 「デフォルトに戻す」ボタンで確認ダイアログが表示される
- [ ] 確認後、全設定がリセットされる

---

## 8. データ永続化テスト

### 8.1 付箋データ
- [ ] ページリロード後に付箋が復元される
- [ ] テキスト、色、位置、サイズが正しく復元される
- [ ] ブラウザを閉じて再度開いても復元される

### 8.2 設定データ
- [ ] 設定がページリロード後も保持される
- [ ] 設定がブラウザ再起動後も保持される

### 8.3 タブ間同期
- [ ] 別タブで設定を変更すると現在のタブにも反映される

---

## 9. エッジケーステスト

### 9.1 境界値テスト
- [ ] 非常に長いテキスト（10000文字）を保存できる
- [ ] 付箋を画面の端ギリギリに配置できる
- [ ] 最小サイズ（150x100）まで縮小できる
- [ ] 非常に大きな付箋（画面サイズ）を作成できる

### 9.2 大量データテスト
- [ ] 20個以上の付箋を作成しても正常に動作する
- [ ] 50個以上の付箋でもパフォーマンスが許容範囲内

### 9.3 特殊文字テスト
- [ ] 絵文字を含むテキストが保存できる
- [ ] HTMLタグを含むテキストが正しく表示される（エスケープ）
- [ ] 特殊記号（<>&"'）が正しく処理される

### 9.4 異常系テスト
- [ ] ストレージ容量上限に近い場合の動作
- [ ] ネットワーク切断時の動作（オフライン）

---

## 10. UI/UXテスト

### 10.1 ホバー効果
- [ ] メニューボタンのホバー時にハイライト
- [ ] 付箋ヘッダーボタンのホバー効果
- [ ] 削除ボタンのホバー時に赤色表示

### 10.2 アニメーション
- [ ] メニューバーの開閉アニメーション
- [ ] 付箋の作成時アニメーション（もしあれば）

### 10.3 レスポンシブ
- [ ] 狭い画面幅でもメニューバーが正しく表示される
- [ ] 小さな画面でも付箋が操作可能

### 10.4 アクセシビリティ
- [ ] キーボードのみで基本操作が可能
- [ ] フォーカス状態が視覚的にわかる

---

## 11. ブラウザ互換性テスト

### 11.1 Chrome
- [ ] 最新版で正常動作
- [ ] 1つ前のメジャーバージョンで正常動作

### 11.2 その他のChromiumブラウザ（任意）
- [ ] Microsoft Edge
- [ ] Brave
- [ ] Opera

---

## 12. セキュリティテスト

- [ ] XSS攻撃：`<script>alert('xss')</script>` が実行されない
- [ ] 保存データにスクリプトが含まれても安全に表示される
- [ ] 外部リソースへのアクセスがない

---

## テスト環境

| 項目 | 内容 |
|------|------|
| ブラウザ | Chrome バージョン: ______ |
| OS | ______ |
| テスト日 | ______ |
| テスト担当者 | ______ |

---

## テスト結果サマリー

| カテゴリ | 合計 | Pass | Fail | 未実施 |
|---------|------|------|------|--------|
| 基本動作 | | | | |
| 付箋作成 | | | | |
| 付箋操作 | | | | |
| 一括操作 | | | | |
| ピン留め | | | | |
| セット管理 | | | | |
| 設定モーダル | | | | |
| データ永続化 | | | | |
| エッジケース | | | | |
| UI/UX | | | | |
| ブラウザ互換性 | | | | |
| セキュリティ | | | | |
| **合計** | | | | |

---

## 備考・発見した問題

| No. | カテゴリ | 問題内容 | 重要度 | ステータス |
|-----|---------|---------|--------|-----------|
| 1 | | | | |
| 2 | | | | |
| 3 | | | | |
