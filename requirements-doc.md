# 要件定義書：Web付箋拡張機能

## 1. 概要

### 1.1 プロダクト名
（未定）

### 1.2 目的
Webページ閲覧中に気になった箇所へメモを残し、「読む」と「整理する」を分離することで、読書体験の中断を防ぐ。

### 1.3 解決する課題
- 記事を読んでいる最中に「使えそう」と思った箇所をメモするために、別アプリを開く必要がある
- コンテキストスイッチにより「どこまで読んだか」を見失う
- 読了後にまとめて整理したいが、メモが散らばってしまう

### 1.4 ターゲットユーザー
- 技術記事（Zenn、Qiitaなど）を読みながらメモを取りたいエンジニア

---

## 2. 機能要件

### 2.1 付箋機能

#### 2.1.1 付箋の作成
- ページ上の任意の位置に付箋を作成できる
- 付箋には自由テキストを入力できる

#### 2.1.2 付箋の移動
- ドラッグ操作で画面上の任意の位置に移動できる
- 配置方式：画面固定（position: fixed）
- スクロールしても付箋は画面の同じ位置に留まる

#### 2.1.3 付箋の色
- プリセットカラーから選択できる
- プリセット例：黄、ピンク、青、緑

#### 2.1.4 付箋のサイズ
- プリセットサイズから選択できる（小・中・大）
- 自由リサイズ可能（角をドラッグして伸縮）

#### 2.1.5 付箋の削除
- 各付箋を個別に削除できる

#### 2.1.6 一括非表示/表示
- 全付箋を一時的に非表示にできる
- 非表示状態から再度表示できる
- 用途：元の記事を邪魔なく読みたいとき

#### 2.1.7 一括クリア
- 全付箋を一括で削除できる
- 確認ダイアログを表示する（誤操作防止）

### 2.2 エクスポート機能

#### 2.2.1 テキストコピー
- 全付箋のメモ内容を一覧形式でクリップボードにコピーできる
- 出力形式：プレーンテキスト

---

## 3. 非機能要件

### 3.1 データ永続化
- なし（タブを閉じたらデータは消える）
- 保存範囲：そのタブ専用（タブ間で共有しない）

### 3.2 対応ブラウザ
- Google Chrome（Chrome拡張機能として実装）

### 3.3 パフォーマンス
- 元ページの表示・操作を妨げないこと
- 付箋の移動・リサイズはスムーズに動作すること

---

## 4. 画面・UI要件

### 4.1 メニューバー
- 拡張機能アイコンをクリックで表示/非表示
- 画面上部に固定表示
- 構成要素（左から）：
  - カラーパレット（7色：赤・オレンジ・黄・緑・水色・グレー・白）
    - 色アイコンをドラッグ → ドロップ位置に付箋を作成
  - サイズプリセット（S / M / L）
    - 次に作成する付箋のサイズを選択
  - 目アイコン（👁）
    - 全付箋の一括非表示/表示トグル
  - ゴミ箱アイコン
    - 全付箋の一括クリア（確認ダイアログあり）
  - コピーアイコン
    - メモ一覧をクリップボードにコピー
  - ×アイコン
    - メニューバーを閉じる

### 4.2 付箋
- 付箋らしい見た目（角が少し折れているなどの装飾は任意）
- テキストエリアは編集可能
- 右下にリサイズハンドル
- 個別削除ボタン

### 4.3 フィードバック
- コピー完了時にフィードバックを表示
- 一括クリア時に確認ダイアログを表示

---

## 5. 将来的な拡張候補（MVP対象外）

以下は今回のMVPには含めないが、将来的に検討する機能：

- 付箋同士を矢印でつなぐ機能
- ページ全体のスクリーンショット出力
- データの永続化（ブラウザストレージ）
- ページ座標への付箋配置（スクロール追従）
- 複数タブ間での付箋共有

---

## 6. 用語定義

| 用語 | 定義 |
|------|------|
| 付箋 | ページ上に配置するメモ要素 |
| 画面固定 | position: fixedによる配置。スクロールしても画面の同じ位置に留まる |
| プリセット | あらかじめ用意された選択肢 |
| エクスポート | 付箋データを外部で使える形式に出力すること |
